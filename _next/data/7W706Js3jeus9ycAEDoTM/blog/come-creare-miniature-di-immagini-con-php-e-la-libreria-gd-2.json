{"pageProps":{"post":{"mdxSource":"var Component=(()=>{var m=Object.create;var l=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var d=Object.getOwnPropertyNames;var h=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var o=a=>l(a,\"__esModule\",{value:!0});var N=(a,i)=>()=>(i||a((i={exports:{}}).exports,i),i.exports),k=(a,i)=>{o(a);for(var s in i)l(a,s,{get:i[s],enumerable:!0})},g=(a,i,s)=>{if(i&&typeof i==\"object\"||typeof i==\"function\")for(let n of d(i))!u.call(a,n)&&n!==\"default\"&&l(a,n,{get:()=>i[n],enumerable:!(s=p(i,n))||s.enumerable});return a},f=a=>g(o(l(a!=null?m(h(a)):{},\"default\",a&&a.__esModule&&\"default\"in a?{get:()=>a.default,enumerable:!0}:{value:a,enumerable:!0})),a);var t=N((w,r)=>{r.exports=_jsx_runtime});var y={};k(y,{default:()=>z,frontmatter:()=>v});var e=f(t()),v={title:\"Come creare miniature di immagini con PHP e la libreria GD\",date:\"2010-05-10T08:00:39+01:00\",status:\"publish\",permalink:\"/come-creare-miniature-di-immagini-con-php-e-la-libreria-gd-2\",author:\"Maico Orazio\",excerpt:\"\",type:\"post\",id:417,images:\"/static/images/posts/ridimensiona-immagini.jpg\",category:[\"PHP\"],tag:[\"immagini\",\"libreria GD\",\"PHP\",\"thumbnails\"],post_format:[]};function b(a={}){let{wrapper:i}=a.components||{};return i?(0,e.jsx)(i,Object.assign({},a,{children:(0,e.jsx)(s,{})})):s();function s(){let n=Object.assign({div:\"div\",p:\"p\",strong:\"strong\",a:\"a\",br:\"br\",h2:\"h2\",span:\"span\",pre:\"pre\",code:\"code\"},a.components),{Image:c}=n;return c||$(\"Image\",!0),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(n.div,{children:(0,e.jsx)(c,{alt:\"ridimensiona-immagini.jpg\",src:\"/static/images/posts/ridimensiona-immagini.jpg\",width:\"500\",height:\"300\"})}),(0,e.jsxs)(n.p,{children:[\"In questo tutorial di oggi vedremo come \",(0,e.jsx)(n.strong,{children:\"creare miniature di immagini\"}),\" con PHP e l\\u2019uso della \",(0,e.jsx)(n.a,{href:\"http://php.net/manual/en/book.image.php\",title:\"Manuale libreria GD\",children:\"libreria GD\"}),\".\"]}),(0,e.jsxs)(n.p,{children:[\"Caricare sul server immagini in dimensioni originali pu\\xF2 essere dispendioso per lo spazio a disposizione ma soprattutto per la banda quando bisogna visualizzarle ad ogni richiesta al server.\",(0,e.jsx)(n.br,{}),\"In questo caso la libreria GD si rivela utilissima perch\\xE9 permette di poter prendere un\\u2019immagine jpg, gif o png e crearne una nuova con \",(0,e.jsx)(n.strong,{children:\"dimensioni ridotte\"}),\", quindi \",(0,e.jsx)(n.strong,{children:\"pi\\xF9 leggera e pi\\xF9 veloce da caricare\"}),\".\",(0,e.jsx)(n.br,{}),\"Durante il ridimensionamento delle immagini \\xE8 inoltre possibile ridefinire il livello di compressione, regolando quindi il rapporto qualit\\xE0/dimensione, rendendo cos\\xEC pi\\xF9 veloce il caricamento della miniatura.\"]}),(0,e.jsxs)(n.p,{children:[\"Questa funzione php permette il resize di immagini jpeg, gif e png. I parametri da settare per la funzione sono il nome del file da ridimensionare, la cartella dove \\xE8 presente l\\u2019immagine, la cartella dove salvare la nuova immagine e la larghezza della nuova immagine.\",(0,e.jsx)(n.br,{}),\"Ho deciso di poter passare solo la larghezza perch\\xE9 una dimensione fissa dei lati dell\\u2019immagine potrebbe portare a creare un\\u2019immagine che non mantiene le proporzioni e quindi deformata.\"]}),(0,e.jsxs)(n.h2,{id:\"funzione-per-creare-e-salvare-sul-server-unimmagine-ridimensionata\",children:[(0,e.jsx)(n.a,{href:\"#funzione-per-creare-e-salvare-sul-server-unimmagine-ridimensionata\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Funzione per creare e salvare sul server un\\u2019immagine ridimensionata\"]}),(0,e.jsx)(n.pre,{className:\"language-php\",children:(0,e.jsxs)(n.code,{className:\"language-php code-highlight\",children:[(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsx)(n.span,{className:\"token comment doc-comment\",children:`/**\n`})}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsx)(n.span,{className:\"token comment doc-comment\",children:` * =---------------------------------------------------------------------=\n`})}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsx)(n.span,{className:\"token comment doc-comment\",children:` * createThumbnail\n`})}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsx)(n.span,{className:\"token comment doc-comment\",children:` * =---------------------------------------------------------------------=\n`})}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsx)(n.span,{className:\"token comment doc-comment\",children:` * Questa funzione creer&agrave; una miniatura dell'immagine caricata.\n`})}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsx)(n.span,{className:\"token comment doc-comment\",children:` *\n`})}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsxs)(n.span,{className:\"token comment doc-comment\",children:[\" * \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"@param\"}),\" \",(0,e.jsx)(n.span,{className:\"token parameter\",children:\"$filename\"}),`\t- nome immagine.\n`]})}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsxs)(n.span,{className:\"token comment doc-comment\",children:[\" * \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"@param\"}),\" \",(0,e.jsx)(n.span,{className:\"token parameter\",children:\"$dir_in\"}),`\t\t- directory dove &egrave; presente l'immagine.\n`]})}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsxs)(n.span,{className:\"token comment doc-comment\",children:[\" * \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"@param\"}),\" \",(0,e.jsx)(n.span,{className:\"token parameter\",children:\"$dir_out\"}),`\t\t- directory dove caricare l'immagine.\n`]})}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsxs)(n.span,{className:\"token comment doc-comment\",children:[\" * \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"@param\"}),\" \",(0,e.jsx)(n.span,{className:\"token parameter\",children:\"$width_image\"}),`\t- larghezza immagine da creare.\n`]})}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment doc-comment\",children:\" */\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,e.jsx)(n.span,{className:\"token function function-definition\",children:\"createThumbnail\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token variable\",children:\"$filename\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token variable\",children:\"$dir_in\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token variable\",children:\"$dir_out\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token variable\",children:\"$width_image\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// apro l'immagine originale (jpeg,gif,png)\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"preg_match\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string single-quoted-string\",children:\"'/[.]jpg$/'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token variable\",children:\"$filename\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token variable\",children:\"$im\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"imagecreatefromjpeg\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token variable\",children:\"$dir_in\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token variable\",children:\"$filename\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"else\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"preg_match\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string single-quoted-string\",children:\"'/[.]gif$/'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token variable\",children:\"$filename\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token variable\",children:\"$im\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"imagecreatefromgif\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token variable\",children:\"$dir_in\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token variable\",children:\"$filename\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"else\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"preg_match\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string single-quoted-string\",children:\"'/[.]png$/'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token variable\",children:\"$filename\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token variable\",children:\"$im\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"imagecreatefrompng\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token variable\",children:\"$dir_in\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token variable\",children:\"$filename\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// calcolo la larghezza e l'altezza dell'immagine originale\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token variable\",children:\"$ox\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"imagesx\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token variable\",children:\"$im\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token variable\",children:\"$oy\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"imagesy\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token variable\",children:\"$im\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// larghezza della miniatura data in input\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token variable\",children:\"$nx\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token variable\",children:\"$width_image\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// altezza calcolata proporzionalmente all'immagine originale\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token variable\",children:\"$ny\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"floor\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token variable\",children:\"$oy\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token variable\",children:\"$width_image\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),\" \",(0,e.jsx)(n.span,{className:\"token variable\",children:\"$ox\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// creo l'immagine della miniatura\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token variable\",children:\"$nm\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"imagecreatetruecolor\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token variable\",children:\"$nx\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token variable\",children:\"$ny\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// copio l'immagine originale in quella della miniatura ridimensionaldola\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token function\",children:\"imagecopyresized\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token variable\",children:\"$nm\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token variable\",children:\"$im\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token variable\",children:\"$nx\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token variable\",children:\"$ny\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token variable\",children:\"$ox\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token variable\",children:\"$oy\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// verifico l'esistenza della cartella dove salvare la miniatura\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"!\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"file_exists\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token variable\",children:\"$dir_out\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"!\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"mkdir\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token variable\",children:\"$dir_out\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"die\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string double-quoted-string\",children:'\"There was a problem.\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// salvo l'immagine della miniatura\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"imagejpeg\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token variable\",children:\"$nm\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token variable\",children:\"$dir_out\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token variable\",children:\"$filename\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean constant\",children:\"TRUE\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"else\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean constant\",children:\"FALSE\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsxs)(n.p,{children:[\"Con le prime istruzioni condizionali apriamo l\\u2019immagine originale sia che essa sia jpeg, gif e png. Poi memorizziamo le dimensioni (larghezza \",(0,e.jsx)(n.code,{children:\"$ox\"}),\" e altezza \",(0,e.jsx)(n.code,{children:\"$oy\"}),\") dell\\u2019immagine originale e le dimensioni della miniatura da creare; la larghezza \",(0,e.jsx)(n.code,{children:\"$width_image \"}),\"fissa passata in input alla funzione e l\\u2019altezza calcolate per mantenere la proporzione e non deformare l\\u2019immagine nella miniatura.\",(0,e.jsx)(n.br,{}),\"Una volta creata la base per la miniatura, andiamo a copiare il contenuto dell\\u2019immagine originale con le nuove dimensioni (\",(0,e.jsx)(n.code,{children:\"imagecopyresized()\"}),\"). Copiata l\\u2019immagine la salviamo con \",(0,e.jsx)(n.code,{children:\"imagejpeg()\"}),\" nel formato jpeg: il terzo parametro, omesso, rappresenta il grado di compressione che pu\\xF2 essere un valore variabile da 0 a 100 (pi\\xF9 l\\u2019immagine \\xE8 compressa pi\\xF9 \\xE8 leggera e allo stesso tempo pi\\xF9 perde di definizione).\"]}),(0,e.jsxs)(n.p,{children:[\"Possiamo modificare l\\u2019ultima parte della funzione per salvare l\\u2019immagine di miniatura nello stesso formato del file originale utilizzando, come nella prima parte, delle istruzioni condizionali e le rispettive funzioni \",(0,e.jsx)(n.code,{children:\"imagejpeg()\"}),\", \",(0,e.jsx)(n.code,{children:\"imagegif()\"}),\" e \",(0,e.jsx)(n.code,{children:\"imagepng()\"}),\", di cui \\xE8 facile intuire il significato.\"]}),(0,e.jsxs)(n.p,{children:[\"In conclusione ricordo che la libreria GD \\xE8 nativa su PHP a partire dalla versione 4.3.0, questo comporta il non funzionamento della funzione \",(0,e.jsx)(n.code,{children:\"createThumbnail()\"}),\" con una versione di PHP inferiore.\"]})]})}}var z=b;function $(a,i){throw new Error(\"Expected \"+(i?\"component\":\"object\")+\" `\"+a+\"` to be defined: you likely forgot to import, pass, or provide it.\")}return y;})();\n;return Component;","toc":[{"value":"Funzione per creare e salvare sul server un’immagine ridimensionata","url":"#funzione-per-creare-e-salvare-sul-server-unimmagine-ridimensionata","depth":2}],"frontMatter":{"readingTime":{"text":"5 min read","minutes":4.445,"time":266700,"words":889},"slug":"come-creare-miniature-di-immagini-con-php-e-la-libreria-gd-2","fileName":"come-creare-miniature-di-immagini-con-php-e-la-libreria-gd-2.md","title":"Come creare miniature di immagini con PHP e la libreria GD","date":"2010-05-10T07:00:39.000Z","status":"publish","permalink":"/come-creare-miniature-di-immagini-con-php-e-la-libreria-gd-2","author":"Maico Orazio","excerpt":"","type":"post","id":417,"images":"/static/images/posts/ridimensiona-immagini.jpg","category":["PHP"],"tag":["immagini","libreria GD","PHP","thumbnails"],"post_format":[]}},"authorDetails":[{"readingTime":{"text":"2 min read","minutes":1.74,"time":104400,"words":348},"slug":["default"],"fileName":"default.md","name":"Maico Orazio","avatar":"/static/images/avatar.png","occupation":"Senior Web Application Developer","company":"weBeetle","companyLink":"https://www.webeetle.com","email":"maico.orazio@gmail.com","linkedin":"https://www.linkedin.com/in/maicoorazio","twitter":"https://twitter.com/mainick","github":"https://github.com/mainick","devto":"https://dev.to/mainick","date":null}],"prev":{"title":"Duplicare campi di un modulo con jQuery","date":"2010-04-27T07:00:40.000Z","status":"publish","permalink":"/duplicare-campi-di-un-modulo-con-jquery","author":"Maico Orazio","excerpt":"","type":"post","id":409,"images":"/static/images/posts/multi-recapiti.jpg","category":["javascript","jQuery","PHP"],"tag":["duplica campo","jQuery","plugin jquery","relCopy"],"post_format":[],"slug":"duplicare-campi-di-un-modulo-con-jquery"},"next":{"title":"Google Font API","date":"2010-05-27T07:00:52.000Z","status":"publish","permalink":"/google-font-api","author":"Maico Orazio","excerpt":"","type":"post","id":422,"images":"/static/images/posts/google-font-api.jpg","category":["CSS","Curiosità","Webdesign"],"tag":["css","fonts","google","google font api","webfont"],"post_format":[],"slug":"google-font-api"}},"__N_SSG":true}