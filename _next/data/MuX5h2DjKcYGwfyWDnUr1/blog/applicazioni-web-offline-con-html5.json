{"pageProps":{"post":{"mdxSource":"var Component=(()=>{var d=Object.create;var l=Object.defineProperty;var h=Object.getOwnPropertyDescriptor;var p=Object.getOwnPropertyNames;var m=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var s=n=>l(n,\"__esModule\",{value:!0});var g=(n,i)=>()=>(i||n((i={exports:{}}).exports,i),i.exports),f=(n,i)=>{s(n);for(var c in i)l(n,c,{get:i[c],enumerable:!0})},v=(n,i,c)=>{if(i&&typeof i==\"object\"||typeof i==\"function\")for(let a of p(i))!u.call(n,a)&&a!==\"default\"&&l(n,a,{get:()=>i[a],enumerable:!(c=h(i,a))||c.enumerable});return n},N=n=>v(s(l(n!=null?d(m(n)):{},\"default\",n&&n.__esModule&&\"default\"in n?{get:()=>n.default,enumerable:!0}:{value:n,enumerable:!0})),n);var r=g((q,o)=>{o.exports=_jsx_runtime});var k={};f(k,{default:()=>z,frontmatter:()=>b});var e=N(r()),b={title:\"Applicazioni Web Offline con HTML5\",date:\"2011-06-20T07:00:00+01:00\",status:\"publish\",permalink:\"/applicazioni-web-offline-con-html5\",author:\"Maico Orazio\",excerpt:\"\",type:\"post\",id:722,images:\"/static/images/posts/web-application-offline.jpg\",category:[\"HMTL5\",\"javascript\"],tag:[\"cache\",\"cache manifest\",\"html5\",\"web application offline\"],post_format:[]};function w(n={}){let{wrapper:i}=n.components||{};return i?(0,e.jsx)(i,Object.assign({},n,{children:(0,e.jsx)(c,{})})):c();function c(){let a=Object.assign({div:\"div\",p:\"p\",a:\"a\",strong:\"strong\",br:\"br\",code:\"code\",pre:\"pre\",span:\"span\",em:\"em\",ul:\"ul\",li:\"li\"},n.components),{Image:t}=a;return t||x(\"Image\",!0),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(a.div,{children:(0,e.jsx)(t,{alt:\"Web Application Offline\",src:\"/static/images/posts/web-application-offline.jpg\",width:\"700\",height:\"234\"})}),(0,e.jsxs)(a.p,{children:[\"HTML5 fornisce una nuova \",(0,e.jsx)(a.a,{href:\"http://www.w3.org/TR/offline-webapps/\",title:\"Offline Web Applications\",children:\"funzionalit\\xE0 di caching\"}),\" per supportare le \",(0,e.jsx)(a.strong,{children:\"applicazioni web in modalit\\xE0 offline\"}),\".\"]}),(0,e.jsxs)(a.p,{children:[\"E\\u2019 necessario specificare un determinato file chiamato \",(0,e.jsx)(a.strong,{children:\"\\u201Ccache manifest\\u201D\"}),\" nella pagina web a cui vogliamo applicare il sistema di caching.\",(0,e.jsx)(a.br,{}),\"L\\u2019URL del file cache manifest va specificato nel tag \",(0,e.jsx)(a.code,{children:\"html\"}),\" del documento in cui vogliamo attivare la funzione di caching HTML5.\"]}),(0,e.jsx)(a.pre,{className:\"language-html\",children:(0,e.jsxs)(a.code,{className:\"code-highlight language-html\",children:[(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"html\"]}),\" \",(0,e.jsx)(a.span,{className:\"token attr-name\",children:\"manifest\"}),(0,e.jsxs)(a.span,{className:\"token attr-value\",children:[(0,e.jsx)(a.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,e.jsx)(a.span,{className:\"token punctuation\",children:'\"'}),\"myapp.cache\",(0,e.jsx)(a.span,{className:\"token punctuation\",children:'\"'})]}),(0,e.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,e.jsx)(a.span,{className:\"code-line\",children:`  ...\n`}),(0,e.jsxs)(a.span,{className:\"code-line\",children:[(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsxs)(a.span,{className:\"token tag\",children:[(0,e.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"html\"]}),(0,e.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]})]})}),(0,e.jsxs)(a.p,{children:[\"E\\u2019 importante che, per essere correttamente analizzato dal browser, il file di cache manifest deve avere come intestazione in \",(0,e.jsx)(a.code,{children:\"header\"}),\" il tipo MIME \",(0,e.jsx)(a.code,{children:\"text/cache-manifest\"}),\"; dunque \\xE8 necessario aggiungere al web server l\\u2019associazione all\\u2019estensione del tipo di file o specificarlo manualmente, ad esempio utilizzando la direttiva \",(0,e.jsx)(a.code,{children:\"header\"}),\" di PHP.\"]}),(0,e.jsx)(a.p,{children:\"L\\u2019aspetto di un tipico file di cache manifest \\xE8 il seguente:\"}),(0,e.jsx)(a.pre,{className:\"language-text\",children:(0,e.jsxs)(a.code,{className:\"language-text code-highlight\",children:[(0,e.jsx)(a.span,{className:\"code-line\",children:`CACHE MANIFEST\n`}),(0,e.jsx)(a.span,{className:\"code-line\",children:`index.html\n`}),(0,e.jsx)(a.span,{className:\"code-line\",children:`css/style.css\n`}),(0,e.jsx)(a.span,{className:\"code-line\",children:`js/jquery.js\n`}),(0,e.jsx)(a.span,{className:\"code-line\",children:`images/logo.png\n`}),(0,e.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(a.span,{className:\"code-line\",children:`NETWORK:\n`}),(0,e.jsx)(a.span,{className:\"code-line\",children:`search.php\n`})]})}),(0,e.jsxs)(a.p,{children:[\"specifica diversi file di cache, e poi specifica che il file \",(0,e.jsx)(a.em,{children:\"search.php\"}),\" non deve mai essere memorizzato nella cache, in modo da consentire che ad ogni tentativo di accesso al file \\xE8 consentito di bypassare il file di cache.\"]}),(0,e.jsx)(a.p,{children:\"Il procedimento di caching funziona nel momento in cui un utente fa richiesta o accede alla pagina corrispondente ad un documento a cui \\xE8 associato un cache manifest, allora il browser deve prima controllare se su server quest\\u2019ultimo \\xE8 stato modificato:\"}),(0,e.jsxs)(a.ul,{children:[(0,e.jsx)(a.li,{children:\"se non \\xE8 stato modificato, viene utilizzato il contenuto della cache\"}),(0,e.jsx)(a.li,{children:\"altrimenti se presente una nuova versione del cache manifest, il contenuto presente della cache viene considerato obsoleto e ricaricato dal server.\"})]}),(0,e.jsxs)(a.p,{children:[\"Altra funzionalit\\xE0 importante del cache manifest \\xE8 che pu\\xF2 contenere anche voci di ripiego (sotto la voce \",(0,e.jsx)(a.code,{children:\"FALLBACK\"}),\"), utilizzate dal client/browser se non \\xE8 possibile recuperare il contenuto originale.\"]}),(0,e.jsx)(a.pre,{className:\"language-text\",children:(0,e.jsxs)(a.code,{className:\"language-text code-highlight\",children:[(0,e.jsx)(a.span,{className:\"code-line\",children:`CACHE MANIFEST\n`}),(0,e.jsx)(a.span,{className:\"code-line\",children:`index.html\n`}),(0,e.jsx)(a.span,{className:\"code-line\",children:`css/style.css\n`}),(0,e.jsx)(a.span,{className:\"code-line\",children:`js/jquery.js\n`}),(0,e.jsx)(a.span,{className:\"code-line\",children:`images/logo.png\n`}),(0,e.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(a.span,{className:\"code-line\",children:`NETWORK:\n`}),(0,e.jsx)(a.span,{className:\"code-line\",children:`search.php\n`}),(0,e.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(a.span,{className:\"code-line\",children:`FALLBACK\n`}),(0,e.jsx)(a.span,{className:\"code-line\",children:`images/thumb.php\terror.png\n`})]})}),(0,e.jsx)(a.p,{children:\"nell\\u2019esempio viene utilizzata un\\u2019immagine statica quando il recupero di un\\u2019immagine generata dinamicamente fallisce.\"}),(0,e.jsxs)(a.p,{children:[\"In HTML5 sono definite delle \",(0,e.jsx)(a.a,{href:\"http://www.whatwg.org/specs/web-apps/current-work/#application-cache-api\",title:\"Application cache API\",children:\"API\"}),\" che permettono di attivare manualmente gli aggiornamenti della cache:\"]}),(0,e.jsxs)(a.ul,{children:[(0,e.jsxs)(a.li,{children:[(0,e.jsx)(a.strong,{children:\"update()\"}),\": aggiorna la cache per il documento corrente in background;\"]}),(0,e.jsxs)(a.li,{children:[(0,e.jsx)(a.strong,{children:\"swapCache()\"}),\": passa alla cache dell\\u2019applicazione pi\\xF9 recente, se vi \\xE8 una pi\\xF9 recente; valida anche per le successive richieste di risorse dalla cache;\"]}),(0,e.jsxs)(a.li,{children:[(0,e.jsx)(a.strong,{children:\"onchecking()\"}),\": cattura l\\u2019evento \",(0,e.jsx)(a.em,{children:\"checking\"}),\" che si manifesta quando il client/browser verifica se disponibile un aggiornamento o tenta di scaricare per la prima volta il file di cache manifest (questo \\xE8 sempre il primo evento della sequenza);\"]}),(0,e.jsxs)(a.li,{children:[(0,e.jsx)(a.strong,{children:\"onerror()\"}),\": cattura l\\u2019evento \",(0,e.jsx)(a.em,{children:\"error\"}),\" che si manifesta per tutti gli errori che possono verificarsi del tipo: nello scaricare il cache manifest il client/browser ha ricevuto errore 404 o 410, non \\xE8 stato possibile scariche le risorse elencate nel cache manifest, si \\xE8 verificato un errore durante il recupero delle risorse;\"]}),(0,e.jsxs)(a.li,{children:[(0,e.jsx)(a.strong,{children:\"onnoupdate()\"}),\": cattura l\\u2019evento \",(0,e.jsx)(a.em,{children:\"noupdate\"}),\" che si manifesta quando il client/browser verifica se disponibile un aggiornamento il cache manifest non \\xE8 cambiato;\"]}),(0,e.jsxs)(a.li,{children:[(0,e.jsx)(a.strong,{children:\"ondownloading()\"}),\": cattura l\\u2019evento \",(0,e.jsx)(a.em,{children:\"downloading\"}),\" che si manifesta quando il client/browser sta scaricando le risorse elencate nel cache manifest dopo aver verificato un aggiornamento di quel\\u2019ultimo;\"]}),(0,e.jsxs)(a.li,{children:[(0,e.jsx)(a.strong,{children:\"onprogress()\"}),\": cattura l\\u2019evento \",(0,e.jsx)(a.em,{children:\"progress\"}),\" che si manifesta quando il client/browser sta scaricando le risorse elencate nel cache manifest;\"]}),(0,e.jsxs)(a.li,{children:[(0,e.jsx)(a.strong,{children:\"onupdateready()\"}),\": cattura l\\u2019evento \",(0,e.jsx)(a.em,{children:\"updateready\"}),\" che si manifesta quando le risorse elencate nel cache manifest sono state appena ri-scaricate e lo script pu\\xF2 utilizzare il metodo \",(0,e.jsx)(a.code,{children:\"swapCache()\"}),\" per passare alla nuova cache;\"]}),(0,e.jsxs)(a.li,{children:[(0,e.jsx)(a.strong,{children:\"oncached()\"}),\": cattura l\\u2019evento \",(0,e.jsx)(a.em,{children:\"cached\"}),\" che si manifesta quando le risorse elencate nel cache manifest sono state scaricate e ora si trovano nella cache;\"]}),(0,e.jsxs)(a.li,{children:[(0,e.jsx)(a.strong,{children:\"onobsolete()\"}),\": cattura l\\u2019evento \",(0,e.jsx)(a.em,{children:\"obsolete\"}),\" che si manifesta quando per trovare il cache manifest il client/browser ha ricevuto l\\u2019errore 404 o 410, per cui la cache dell\\u2019applicazione viene cancellata;\"]})]})]})}}var z=w;function x(n,i){throw new Error(\"Expected \"+(i?\"component\":\"object\")+\" `\"+n+\"` to be defined: you likely forgot to import, pass, or provide it.\")}return k;})();\n;return Component;","toc":[],"frontMatter":{"readingTime":{"text":"4 min read","minutes":3.165,"time":189900,"words":633},"slug":"applicazioni-web-offline-con-html5","fileName":"applicazioni-web-offline-con-html5.md","title":"Applicazioni Web Offline con HTML5","date":"2011-06-20T06:00:00.000Z","status":"publish","permalink":"/applicazioni-web-offline-con-html5","author":"Maico Orazio","excerpt":"","type":"post","id":722,"images":"/static/images/posts/web-application-offline.jpg","category":["HMTL5","javascript"],"tag":["cache","cache manifest","html5","web application offline"],"post_format":[]}},"authorDetails":[{"readingTime":{"text":"2 min read","minutes":1.7,"time":102000,"words":340},"slug":["default"],"fileName":"default.md","name":"Maico Orazio","avatar":"/static/images/avatar.png","occupation":"Senior Web Application Developer","company":"weBeetle","companyLink":"https://www.webeetle.com","email":"maico.orazio@gmail.com","linkedin":"https://www.linkedin.com/in/maicoorazio","twitter":"https://twitter.com/mainick","github":"https://github.com/mainick","devto":"https://dev.to/mainick","date":null}],"prev":{"title":"Come rendere il database più sicuro","date":"2011-05-09T06:30:00.000Z","status":"publish","permalink":"/come-rendere-il-database-pi-sicuro","author":"Maico Orazio","excerpt":"","type":"post","id":657,"images":"/static/images/posts/sql-inject.jpg","category":["MySQL","PHP"],"tag":["php","mysql"],"post_format":[],"slug":"come-rendere-il-database-pi-sicuro"},"next":{"title":"Animazioni con jQuery in un sistema di votazione","date":"2011-09-07T06:30:27.000Z","status":"publish","permalink":"/animazioni-con-jquery-in-un-sistema-di-votazione","author":"Maico Orazio","excerpt":"","type":"post","id":726,"images":"/static/images/posts/animazioni-con-jquery.jpg","category":["javascript","jQuery"],"tag":["animazione jquery","javascript","jQuery"],"post_format":[],"slug":"animazioni-con-jquery-in-un-sistema-di-votazione"}},"__N_SSG":true}