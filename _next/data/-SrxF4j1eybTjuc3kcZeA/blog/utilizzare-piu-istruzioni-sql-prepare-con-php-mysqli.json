{"pageProps":{"post":{"mdxSource":"var Component=(()=>{var r=Object.create;var t=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var d=Object.getOwnPropertyNames;var m=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var l=a=>t(a,\"__esModule\",{value:!0});var h=(a,s)=>()=>(s||a((s={exports:{}}).exports,s),s.exports),N=(a,s)=>{l(a);for(var c in s)t(a,c,{get:s[c],enumerable:!0})},k=(a,s,c)=>{if(s&&typeof s==\"object\"||typeof s==\"function\")for(let e of d(s))!u.call(a,e)&&e!==\"default\"&&t(a,e,{get:()=>s[e],enumerable:!(c=p(s,e))||c.enumerable});return a},b=a=>k(l(t(a!=null?r(m(a)):{},\"default\",a&&a.__esModule&&\"default\"in a?{get:()=>a.default,enumerable:!0}:{value:a,enumerable:!0})),a);var o=h((y,i)=>{i.exports=_jsx_runtime});var v={};N(v,{default:()=>_,frontmatter:()=>g});var n=b(o()),g={title:\"Utilizzare pi\\xF9 istruzioni SQL prepare con PHP MySQLi\",date:\"2010-02-11T08:00:41+01:00\",status:\"publish\",permalink:\"/utilizzare-piu-istruzioni-sql-prepare-con-php-mysqli\",author:\"Maico Orazio\",excerpt:\"\",type:\"post\",id:360,category:[\"MySQL\",\"PHP\"],tag:[\"MySQL\",\"mysqli\",\"PHP\"],post_format:[]};function f(a={}){let{wrapper:s}=a.components||{};return s?(0,n.jsx)(s,Object.assign({},a,{children:(0,n.jsx)(c,{})})):c();function c(){let e=Object.assign({p:\"p\",code:\"code\",a:\"a\",br:\"br\",strong:\"strong\",pre:\"pre\",span:\"span\"},a.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.p,{children:[\"Giorni fa in ufficio, durante lo sviluppo di un\\u2019applicazione di gestione, mi sono imbattuto in un errore causato dal tentativo di utilizzare pi\\xF9 istruzioni \",(0,n.jsx)(e.code,{children:\"prepare\"}),\" di \",(0,n.jsx)(e.a,{href:\"http://www.php.net/manual/en/book.mysqli.php\",title:\"PHP MySQL Improved Extension\",children:\"MySQLi\"}),\".\",(0,n.jsx)(e.br,{}),\"Ieri ho trovato un articolo che mi ha risolto il problema: Carson McDonald spiega quale sia la causa che genera l\\u2019errore e come \\xE8 possibile utilizzare pi\\xF9 istruzioni SQL \",(0,n.jsx)(e.code,{children:\"prepare\"}),\" per l\\u2019esecuzione.\"]}),(0,n.jsxs)(e.p,{children:[\"Carson McDonald ha scoperto l\\u2019errore quando ha cercato di eseguire una dichiarazione \",(0,n.jsx)(e.code,{children:\"prepare\"}),\" in un ciclo su un set di risultati di un\\u2019altra istruzione preparata, dichiarata precedentemente il ciclo ma create entrambe sulla stessa connessione.\"]}),(0,n.jsxs)(e.p,{children:[\"Cercando dettagli sull\\u2019errore generato nella \",(0,n.jsx)(e.a,{href:\"http://dev.mysql.com/doc/refman/5.0/en/commands-out-of-sync.html\",children:\"documentazione di MySQL\"}),\", emerge che il set di risultati di un\\u2019istruzione \",(0,n.jsx)(e.code,{children:\"prepare\"}),\" eseguita devono essere scaricati completamente prima di eseguire un\\u2019altra istruzione preparata sulla stessa connessione.\"]}),(0,n.jsxs)(e.p,{children:[\"Il problema pu\\xF2 essere semplicemente risolto utilizzando l\\u2019istruzione \",(0,n.jsx)(e.a,{href:\"http://php.net/manual/en/mysqli-stmt.store-result.php\",children:(0,n.jsx)(e.strong,{children:\"store_result\"})}),\" che trasferisce un set di risultati da una dichiarazione \",(0,n.jsx)(e.code,{children:\"prepare\"}),\".\"]}),(0,n.jsx)(e.p,{children:\"Riporto lo stesso esempio analizzato nel suo articolo da McDonald:\"}),(0,n.jsx)(e.pre,{className:\"language-php\",children:(0,n.jsxs)(e.code,{className:\"language-php code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"?\"}),(0,n.jsx)(e.span,{className:\"token class-name type-declaration\",children:\"php\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$db_connection\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"mysqli\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string single-quoted-string\",children:\"'127.0.0.1'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token string single-quoted-string\",children:\"'user'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token string single-quoted-string\",children:\"''\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token string single-quoted-string\",children:\"'test'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$post_stmt\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$db_connection\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"->\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"prepare\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string double-quoted-string\",children:'\"select id, title from post where id = 1000\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$comment_stmt\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$db_connection\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"->\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"prepare\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string double-quoted-string\",children:'\"select user_id from comment where post_id = ?\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token variable\",children:\"$post_stmt\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"->\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"execute\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$post_stmt\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"->\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"bind_result\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token variable\",children:\"$post_id\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$title\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token variable\",children:\"$post_stmt\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"->\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"fetch\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$comments\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"array\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$comment_stmt\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"->\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"bind_param\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string single-quoted-string\",children:\"'i'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$post_id\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token variable\",children:\"$comment_stmt\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"->\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"execute\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$comment_stmt\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"->\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"bind_result\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token variable\",children:\"$user_id\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"while\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token variable\",children:\"$comment_stmt\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"->\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"fetch\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"          \",(0,n.jsx)(e.span,{className:\"token function\",children:\"array_push\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token variable\",children:\"$comments\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"array\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string single-quoted-string\",children:\"'user_id'\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$user_id\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"else\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token function\",children:\"printf\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string double-quoted-string\",children:'\"Comment statement error: %s\\\\n\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$comment_stmt\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"->\"}),(0,n.jsx)(e.span,{className:\"token property\",children:\"error\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"else\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token function\",children:\"printf\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string double-quoted-string\",children:'\"Post statement error: %s\\\\n\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$post_stmt\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"->\"}),(0,n.jsx)(e.span,{className:\"token property\",children:\"error\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$post_stmt\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"->\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"close\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$comment_stmt\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"->\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"close\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$db_connection\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"->\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"close\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token function\",children:\"printf\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string double-quoted-string\",children:'\"ID: %d -> %s\\\\n\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$post_id\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$post_title\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token function\",children:\"print_r\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token variable\",children:\"$comments\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token operator\",children:\"?\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),`\n`]})]})}),(0,n.jsx)(e.p,{children:\"il codice sopra comporter\\xE0 il seguente errore:\"}),(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsxs)(e.code,{className:\"code-highlight language-bash\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"Comment statement error: Commands out of \",(0,n.jsx)(e.span,{className:\"token function\",children:\"sync\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" you can't run this \",(0,n.jsx)(e.span,{className:\"token class-name builtin\",children:\"command\"}),` now\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"PHP Notice:  Undefined variable: post_title \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"in\"}),\" error.php on line \",(0,n.jsx)(e.span,{className:\"token number\",children:\"41\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"ID: \",(0,n.jsx)(e.span,{className:\"token number\",children:\"9033\"}),\" -\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"&\"}),\"gt\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`Array\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"Inserendo l\\u2019istruzione \",(0,n.jsx)(e.code,{children:\"store_result\"}),\" risolviamo il problema:\"]}),(0,n.jsx)(e.pre,{className:\"language-php\",children:(0,n.jsxs)(e.code,{className:\"language-php code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"?\"}),(0,n.jsx)(e.span,{className:\"token class-name type-declaration\",children:\"php\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$db_connection\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"mysqli\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string single-quoted-string\",children:\"'127.0.0.1'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token string single-quoted-string\",children:\"'user'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token string single-quoted-string\",children:\"''\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token string single-quoted-string\",children:\"'test'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$post_stmt\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$db_connection\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"->\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"prepare\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string double-quoted-string\",children:'\"select id, title from post where id = 1000\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$comment_stmt\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$db_connection\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"->\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"prepare\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string double-quoted-string\",children:'\"select user_id from comment where post_id = ?\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token variable\",children:\"$post_stmt\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"->\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"execute\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"//se eseguita correttamente scarico il set di risultati\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$post_stmt\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"->\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"store_result\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$post_stmt\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"->\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"bind_result\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token variable\",children:\"$post_id\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$title\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token variable\",children:\"$post_stmt\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"->\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"fetch\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$comments\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"array\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$comment_stmt\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"->\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"bind_param\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string single-quoted-string\",children:\"'i'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$post_id\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token variable\",children:\"$comment_stmt\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"->\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"execute\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$comment_stmt\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"->\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"bind_result\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token variable\",children:\"$user_id\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"while\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token variable\",children:\"$comment_stmt\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"->\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"fetch\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"          \",(0,n.jsx)(e.span,{className:\"token function\",children:\"array_push\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token variable\",children:\"$comments\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"array\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string single-quoted-string\",children:\"'user_id'\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$user_id\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"else\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token function\",children:\"printf\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string double-quoted-string\",children:'\"Comment statement error: %s\\\\n\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$comment_stmt\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"->\"}),(0,n.jsx)(e.span,{className:\"token property\",children:\"error\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$post_stmt\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"->\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"free_result\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"else\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token function\",children:\"printf\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string double-quoted-string\",children:'\"Post statement error: %s\\\\n\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$post_stmt\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"->\"}),(0,n.jsx)(e.span,{className:\"token property\",children:\"error\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$post_stmt\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"->\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"close\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$comment_stmt\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"->\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"close\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$db_connection\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"->\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"close\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token function\",children:\"printf\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string double-quoted-string\",children:'\"ID: %d -> %s\\\\n\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$post_id\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token variable\",children:\"$post_title\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token function\",children:\"print_r\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token variable\",children:\"$comments\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token operator\",children:\"?\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),`\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"Come \\xE8 stato utile per me, spero di aver fatto cosa buona anche per voi.\",(0,n.jsx)(e.br,{}),\"Se avete utilizzato un\\u2019altra soluzione datemene notizia nei commenti.\"]}),(0,n.jsxs)(e.p,{children:[\"[Fonte: \",(0,n.jsx)(e.a,{href:\"http://www.ioncannon.net/programming/889/php-mysqli-and-multiple-prepared-statements/\",title:\"PHP MySQLi and Multiple Prepared Statements\",children:\"IONCANNON\"}),\"]\"]})]})}}var _=f;return v;})();\n;return Component;","toc":[],"frontMatter":{"readingTime":{"text":"5 min read","minutes":4.485,"time":269100,"words":897},"slug":"utilizzare-piu-istruzioni-sql-prepare-con-php-mysqli","fileName":"utilizzare-piu-istruzioni-sql-prepare-con-php-mysqli.md","title":"Utilizzare più istruzioni SQL prepare con PHP MySQLi","date":"2010-02-11T07:00:41.000Z","status":"publish","permalink":"/utilizzare-piu-istruzioni-sql-prepare-con-php-mysqli","author":"Maico Orazio","excerpt":"","type":"post","id":360,"category":["MySQL","PHP"],"tag":["MySQL","mysqli","PHP"],"post_format":[]}},"authorDetails":[{"readingTime":{"text":"2 min read","minutes":1.74,"time":104400,"words":348},"slug":["default"],"fileName":"default.md","name":"Maico Orazio","avatar":"/static/images/avatar.png","occupation":"Senior Web Application Developer","company":"weBeetle","companyLink":"https://www.webeetle.com","email":"maico.orazio@gmail.com","linkedin":"https://www.linkedin.com/in/maicoorazio","twitter":"https://twitter.com/mainick","github":"https://github.com/mainick","devto":"https://dev.to/mainick","date":null}],"prev":{"title":"Creare un menu a lista in ordine alfabetico con jQuery","date":"2010-02-08T07:00:07.000Z","status":"publish","permalink":"/creare-un-menu-a-lista-in-ordine-alfabetico-con-jquery","author":"Maico Orazio","excerpt":"","type":"post","id":352,"images":"/static/images/posts/jquery-listmenu-plugin.jpg","category":["javascript","jQuery"],"tag":["javascript","jQuery","plugin jquery"],"post_format":[],"slug":"creare-un-menu-a-lista-in-ordine-alfabetico-con-jquery"},"next":{"title":"Evento Symfony Live 2010","date":"2010-02-16T20:05:22.000Z","status":"publish","permalink":"/evento-symfony-live-2010","author":"Maico Orazio","excerpt":"","type":"post","id":365,"images":"/static/images/posts/banner_square.jpg","category":["Eventi","PHP","Symfony"],"tag":["eventi","PHP","Symfony"],"post_format":[],"slug":"evento-symfony-live-2010"}},"__N_SSG":true}